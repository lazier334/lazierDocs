var LazierDocs={container:document.body,parseMarkdown(mdText){return window.markdownit().render(mdText)},htmlOnload(){this.hookWinddowOnloadBefore();if(location.pathname.endsWith('.md')){this.loadMarkdown();this.hookLoadedMD()}if(location.pathname.endsWith('/index.html')){this.hookCacheMdList()}this.hookWinddowOnloadAfter()},loadMarkdown(mdText){let mdBody=mdText||window.mdText||'';if(mdBody!=''){mdBody=new TextDecoder().decode(new Uint8Array(mdBody.split(',').map(Number)));this.hookMDBody();this.container.innerHTML=this.parseMarkdown(mdBody)}},hookCacheMdList(){},hookLoadedMD(){},hookMDBody(){},hookWinddowOnloadBefore(){},hookWinddowOnloadAfter(){},};(()=>{registerServiceWorker();window.onload=()=>LazierDocs.htmlOnload()})();function registerServiceWorker(){if('serviceWorker'in navigator){if(navigator.serviceWorker.controller){return console.log('Service Worker 已处于控制状态')}fetch('sw.js',{method:'HEAD'}).then(response=>{if(response.ok){return navigator.serviceWorker.register('sw.js').then(registration=>console.log('Service Worker 注册成功:',registration)).catch(error=>console.log('Service Worker 注册失败:',error))}}).catch(()=>console.log('sw.js 不存在，跳过注册'))}}function clearCache(){fetch('clearSWCache').then(response=>response.json()).then(data=>{alert(data.message);if(data.success){window.location.reload()}}).catch(error=>alert('清理缓存失败: '+error.message))}